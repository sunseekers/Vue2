用vue开发工作一年了，最初只是简简单单的写功能页面快速实现功能完成需求，到如今都想想如何有效的实现，使得后期维护成本最低。 似乎是一种思维模式的转变，即使是简单的业务代码也想写出一朵花来。
说说我在工作项目中学到的那些知识点。

工作中经常会遇到，新增XXX功能页面，修改XXX功能页面，查看XXX功能页面。大部分情况下这三个页面都长的差不多。或许他们唯一的区别就是，进入新增页面没有任何数据，进入修改页面带有原来的数据，进入查看页面带有原来的数据，但是查看页面只能看，不能编辑。当年初入职场的我，傻傻的三个页面写成三个组件。
![](https://pic4.zhimg.com/80/v2-32bd9c55e22afec4525357cce1c890eb_hd.jpg)
![](https://pic4.zhimg.com/80/v2-9de6d79d48740419fccdbfe328c70ee7_hd.jpg)
如图所示，新增和修改职员页面长的是一摸一样，稍微有点不一样就是修改页面带有原来的数据，并且有些东西是不可改的。如果我们的代码只有复制粘贴，没有复用率，而且难以维护，如果有bug或者需求稍微有变动，只能摇头说节省了当时的时间成本，提高了后期的维护成本高。
后来尝试功能类似个页面抽象成一个组件，第一次尝试花了很长很长的时间，如何实现？如何控制变量？如何设计？中间遇到很多问题，如何做到切换快速切换两个页面但是数据互不影响？如何合理设置最少的变量，能最好的控制页面什么什么的？如何做到页面数据不缓存？
现在想想其实答案很简单，created的时候根据路由进行数据初始化，watch监听路由的变化再次请求接口初始化数据。两步都不能少；
![](https://pic1.zhimg.com/80/v2-bbbc1d5943860faab748caacacb2c8ac_hd.jpg)

还在工作中遇到过公共组件数据来回传递，有缓存没法清空，当时也是折腾了两天，好像是因为，vue 尽可能的高效的渲染元素，会复用已有的元素，并没有真正的销毁和重建。
当时都想着mmp，要不我就每个页面写一个组件的了。因为不甘心多次尝试终于实现了，现在想想很简单呀
就是用.sync配合emit实现简简单单，他们实现了数据的双向绑定
![](https://pic3.zhimg.com/80/v2-5751427dac5ab5897057666a036a10f2_hd.jpg)
上图的弹窗，在多个页面都用到了，但是点击   x  的时候出现，留有缓存数据的问题，使用父子组件双向绑定即可解决这个问题
![](https://pic4.zhimg.com/80/v2-9de5ea4f43d4fcf86b304c0abfe6a04f_hd.jpg)
![](https://pic1.zhimg.com/80/v2-ccdd89a0d79712934636e25dcd2fcd60_hd.jpg)

在项目中力推清一色的es6语法 ，代码简洁，看着舒服。尽可能的不修改原数据，只修改数据的副本。数据试图分开，都是项目中用到的小知识点。后续慢慢补
